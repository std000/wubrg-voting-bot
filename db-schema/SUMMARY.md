# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ emoji

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —ç–º–æ–¥–∑–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î

```sql
ALTER TABLE voting.poll_options 
ADD COLUMN emoji TEXT;  -- nullable, –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–í –ë–î**: –ø–æ–ª–µ `emoji` - nullable, –º–æ–∂–µ—Ç –±—ã—Ç—å NULL
2. **–í –∫–æ–¥–µ**: –µ—Å–ª–∏ `emoji` = NULL –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è üëç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. **–ì–∏–±–∫–æ—Å—Ç—å**: –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å emoji –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –±—É–¥–µ—Ç üëç

## –ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ üëç

–í —Ñ–∞–π–ª–µ `bot/poll.go`, —Ñ—É–Ω–∫—Ü–∏—è `getPollData`:

```go
var emoji *string
if err := optRows.Scan(&opt.ID, &opt.Text, &emoji); err != nil {
    return nil, err
}
// –ï—Å–ª–∏ emoji NULL –∏–ª–∏ –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–µ–º üëç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
if emoji != nil && *emoji != "" {
    opt.Emoji = *emoji
} else {
    opt.Emoji = "üëç"
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º emoji
```sql
INSERT INTO voting.poll_options (poll_id, option_text, emoji)
VALUES (1, '‚ö™ –ë–µ–ª—ã–π (White)', '‚ö™');
```

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –±–µ–∑ emoji (–±—É–¥–µ—Ç üëç)
```sql
INSERT INTO voting.poll_options (poll_id, option_text)
VALUES (1, '–î–∞');
-- –∏–ª–∏ —è–≤–Ω–æ
INSERT INTO voting.poll_options (poll_id, option_text, emoji)
VALUES (1, '–ù–µ—Ç', NULL);
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
psql -U your_username -d your_database -f db-schema/add_emoji_column.sql
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `db-schema/schema.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞
2. `db-schema/add_emoji_column.sql` - –º–∏–≥—Ä–∞—Ü–∏—è
3. `bot/poll.go` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ Emoji –∏ –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
4. `db-schema/sample_data.sql` - –ø—Ä–∏–º–µ—Ä—ã —Å emoji
5. `db-schema/queries.sql` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –±—É–¥—É—Ç –∏–º–µ—Ç—å NULL ‚Üí –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è —Å üëç  
‚úÖ –ù–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –±–µ–∑ emoji ‚Üí üëç  
‚úÖ –ù–æ–≤—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å emoji ‚Üí –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π emoji  
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–∞, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

